import{H as Se,I as De,J as et,K as tt,L as at,c as T,M as me,N as st,x as ye,k as F,o as n,w as _,b as e,O as ae,a as l,q as p,G as xe,u as a,P as I,l as ie,Q as nt,R as Ce,S as ot,d as ne,r as se,t as u,e as d,F as Z,m as G,C as lt,T as it,f as je,p as fe,z as ke,U as rt,V as we,_ as be,n as M,j as _e,E as de,W as Ie,s as dt,X as Ae,g as Be,h as ze,Y as ct,Z as $e,$ as Pe}from"./B_qnYf6p.js";import{a as ut,u as Te}from"./CgfcLKIj.js";import{_ as gt}from"./CsMUUQx9.js";import{f as mt}from"./C1U6FxDU.js";import{p as pt}from"./HRjpPm7y.js";import{b as Ne}from"./CHinQrNr.js";const ft={slots:{root:"relative inline-flex items-center",base:["w-full rounded-md border-0 appearance-none placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-dimmed"},variants:{fieldGroup:{horizontal:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group has-focus-visible:z-[1]",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},yt=["id","type","value","name","placeholder","disabled","required","autocomplete"],Me=Object.assign({inheritAttrs:!1},{__name:"UInput",props:{as:{type:null,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},type:{type:null,required:!1,default:"text"},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},autocomplete:{type:null,required:!1,default:"off"},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},disabled:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},modelModifiers:{type:Object,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},icon:{type:null,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:null,required:!1},trailing:{type:Boolean,required:!1},trailingIcon:{type:null,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:null,required:!1}},emits:["update:modelValue","blur","change"],setup(s,{expose:v,emit:b}){const g=s,k=b,m=Se(),x=ut(g,"modelValue",k,{defaultValue:g.defaultValue}),D=De(),{emitFormBlur:h,emitFormInput:w,emitFormChange:C,size:r,color:A,id:i,name:j,highlight:q,disabled:E,emitFormFocus:O,ariaAttrs:X}=et(g,{}),{orientation:re,size:R}=tt(g),{isLeading:L,isTrailing:y,leadingIconName:c,trailingIconName:N}=at(g),H=T(()=>R.value||r.value),z=T(()=>me({extend:me(ft),...D.ui?.input||{}})({type:g.type,color:A.value,variant:g.variant,size:H?.value,loading:g.loading,highlight:q.value,leading:L.value||!!g.avatar||!!m.leading,trailing:y.value||!!m.trailing,fieldGroup:re.value})),K=st("inputRef");function P(B){g.modelModifiers?.trim&&(B=B?.trim()??null),(g.modelModifiers?.number||g.type==="number")&&(B=ot(B)),g.modelModifiers?.nullable&&(B||=null),g.modelModifiers?.optional&&(B||=void 0),x.value=B,w()}function U(B){g.modelModifiers?.lazy||P(B.target.value)}function Q(B){const te=B.target.value;g.modelModifiers?.lazy&&P(te),g.modelModifiers?.trim&&(B.target.value=te.trim()),C(),k("change",B)}function ee(B){h(),k("blur",B)}function J(){g.autofocus&&K.value?.focus()}return ye(()=>{setTimeout(()=>{J()},g.autofocusDelay)}),v({inputRef:K}),(B,te)=>(n(),F(a(Ce),{as:s.as,"data-slot":"root",class:I(z.value.root({class:[g.ui?.root,g.class]}))},{default:_(()=>[e("input",xe({id:a(i),ref_key:"inputRef",ref:K,type:s.type,value:a(x),name:a(j),placeholder:s.placeholder,"data-slot":"base",class:z.value.base({class:g.ui?.base}),disabled:a(E),required:s.required,autocomplete:s.autocomplete},{...B.$attrs,...a(X)},{onInput:U,onBlur:ee,onChange:Q,onFocus:te[0]||(te[0]=(...oe)=>a(O)&&a(O)(...oe))}),null,16,yt),ae(B.$slots,"default",{ui:z.value}),a(L)||s.avatar||m.leading?(n(),l("span",{key:0,"data-slot":"leading",class:I(z.value.leading({class:g.ui?.leading}))},[ae(B.$slots,"leading",{ui:z.value},()=>[a(L)&&a(c)?(n(),F(ie,{key:0,name:a(c),"data-slot":"leadingIcon",class:I(z.value.leadingIcon({class:g.ui?.leadingIcon}))},null,8,["name","class"])):s.avatar?(n(),F(nt,xe({key:1,size:g.ui?.leadingAvatarSize||z.value.leadingAvatarSize()},s.avatar,{"data-slot":"leadingAvatar",class:z.value.leadingAvatar({class:g.ui?.leadingAvatar})}),null,16,["size","class"])):p("",!0)])],2)):p("",!0),a(y)||m.trailing?(n(),l("span",{key:1,"data-slot":"trailing",class:I(z.value.trailing({class:g.ui?.trailing}))},[ae(B.$slots,"trailing",{ui:z.value},()=>[a(N)?(n(),F(ie,{key:0,name:a(N),"data-slot":"trailingIcon",class:I(z.value.trailingIcon({class:g.ui?.trailingIcon}))},null,8,["name","class"])):p("",!0)])],2)):p("",!0)]),_:3},8,["as","class"]))}}),bt={slots:{root:"rounded-lg overflow-hidden",header:"p-4 sm:px-6",body:"p-4 sm:p-6",footer:"p-4 sm:px-6"},variants:{variant:{solid:{root:"bg-inverted text-inverted"},outline:{root:"bg-default ring ring-default divide-y divide-default"},soft:{root:"bg-elevated/50 divide-y divide-default"},subtle:{root:"bg-elevated/50 ring ring-default divide-y divide-default"}}},defaultVariants:{variant:"outline"}},ce={__name:"UCard",props:{as:{type:null,required:!1},variant:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(s){const v=s,b=Se(),g=De(),k=T(()=>me({extend:me(bt),...g.ui?.card||{}})({variant:v.variant}));return(m,x)=>(n(),F(a(Ce),{as:s.as,"data-slot":"root",class:I(k.value.root({class:[v.ui?.root,v.class]}))},{default:_(()=>[b.header?(n(),l("div",{key:0,"data-slot":"header",class:I(k.value.header({class:v.ui?.header}))},[ae(m.$slots,"header")],2)):p("",!0),b.default?(n(),l("div",{key:1,"data-slot":"body",class:I(k.value.body({class:v.ui?.body}))},[ae(m.$slots,"default")],2)):p("",!0),b.footer?(n(),l("div",{key:2,"data-slot":"footer",class:I(k.value.footer({class:v.ui?.footer}))},[ae(m.$slots,"footer")],2)):p("",!0)]),_:3},8,["as","class"]))}},vt={class:"flex items-center gap-2"},ht={class:"space-y-4"},xt={class:"flex items-start justify-between mb-4 pb-4 border-b"},kt={class:"flex-1"},wt={class:"flex items-start gap-2 mb-1"},_t={class:"font-semibold text-gray-900"},$t=["onClick"],Pt={class:"text-sm text-gray-600"},St={class:"text-lg font-semibold text-primary ml-4 whitespace-nowrap"},Dt={class:"flex items-center justify-between gap-4"},Ct={class:"flex flex-wrap gap-2 items-center"},jt={class:"flex items-center gap-1 text-sm text-gray-700 whitespace-nowrap"},It={class:"font-medium"},At=ne({__name:"PackageAlreadyAdded",props:{packagesAlreadyAdded:{},totalGuests:{}},emits:["open-detail"],setup(s){return(v,b)=>{const g=ie,k=ce;return s.packagesAlreadyAdded.length>0?(n(),F(k,{key:0},{header:_(()=>[e("div",vt,[d(g,{name:"i-heroicons-check-circle",class:"w-5 h-5 text-green-600"}),b[0]||(b[0]=e("h2",{class:"text-xl font-semibold"}," Paket Tambahan yang Sudah Ditambahkan ",-1))])]),default:_(()=>[e("div",ht,[(n(!0),l(Z,null,se(s.packagesAlreadyAdded,m=>(n(),l("div",{key:m.pkg.uid,class:"border rounded-lg p-4 bg-white"},[e("div",xt,[e("div",kt,[e("div",wt,[e("h3",_t,u(m.pkg.name),1),m.pkg.referenceId?(n(),l("button",{key:0,class:"text-green-600 hover:text-green-700 transition-colors p-1",onClick:x=>v.$emit("open-detail",m.pkg)},[d(g,{name:"i-heroicons-information-circle",class:"w-5 h-5"})],8,$t)):p("",!0)]),e("p",Pt,u(m.pkg.caption),1)]),e("p",St," Rp "+u(m.pkg.price),1)]),e("div",Dt,[e("div",Ct,[(n(!0),l(Z,null,se(m.guests,x=>(n(),l("button",{key:x.name,disabled:"",class:"px-2 py-2 rounded-full font-medium text-sm transition-all duration-200 flex items-center gap-2 bg-green-600 text-white shadow-md cursor-not-allowed"},[d(g,{name:"i-heroicons-user",class:"w-4 h-4"}),G(" "+u(x.name),1)]))),128))]),e("div",jt,[d(g,{name:"i-heroicons-users",class:"w-4 h-4"}),e("span",It,u(m.guests.length)+" / "+u(s.totalGuests),1)])])]))),128))])]),_:1})):p("",!0)}}}),Bt=Object.assign(At,{__name:"BookPackageAlreadyAdded"}),zt={class:"flex items-center gap-2"},Tt={class:"space-y-4"},Nt={class:"flex items-start justify-between mb-4 pb-4 border-b"},Mt={class:"flex-1"},Vt={class:"flex items-start gap-2 mb-1"},Lt={class:"font-semibold text-gray-900"},Gt=["onClick"],Ft={class:"text-sm text-gray-600"},qt={class:"text-lg font-semibold text-primary ml-4 whitespace-nowrap"},Ut={class:"flex items-center justify-between gap-4"},Et={class:"flex flex-wrap gap-2 items-center"},Ot=["onClick"],Rt=["onClick"],Ht={class:"flex items-center gap-1 text-sm text-gray-700 whitespace-nowrap"},Kt={class:"font-medium"},Wt=ne({__name:"AvailablePackages",props:{availablePackages:{},guests:{},isGuestSelectedForPackage:{type:Function},isGuestLockedForPackage:{type:Function},getAvailableGuestsForPackage:{type:Function},getNewSelectionsForPackage:{type:Function},getAllGuestsSelected:{type:Function},getSelectAllButtonText:{type:Function}},emits:["toggle-guest","toggle-all","open-detail"],setup(s){const v=s,b=T(()=>v.guests),g=T(()=>v.availablePackages),k=T(()=>v.isGuestSelectedForPackage),m=T(()=>v.isGuestLockedForPackage),x=T(()=>v.getAvailableGuestsForPackage),D=T(()=>v.getNewSelectionsForPackage),h=T(()=>v.getAllGuestsSelected),w=T(()=>v.getSelectAllButtonText);return(C,r)=>{const A=ie,i=ce;return a(g).length>0?(n(),F(i,{key:0},{header:_(()=>[e("div",zt,[d(A,{name:"i-heroicons-plus-circle",class:"w-5 h-5 text-primary"}),r[0]||(r[0]=e("h2",{class:"text-xl font-semibold"}," Paket Tambahan yang Bisa Ditambahkan ",-1))])]),default:_(()=>[e("div",Tt,[(n(!0),l(Z,null,se(a(g),j=>(n(),l("div",{key:j.uid,class:"border rounded-lg p-4"},[e("div",Nt,[e("div",Mt,[e("div",Vt,[e("h3",Lt,u(j.name),1),j.referenceId?(n(),l("button",{key:0,class:"text-primary hover:text-primary/80 transition-colors p-1",onClick:q=>C.$emit("open-detail",j)},[d(A,{name:"i-heroicons-information-circle",class:"w-5 h-5"})],8,Gt)):p("",!0)]),e("p",Ft,u(j.caption),1)]),e("p",qt," Rp "+u(j.price),1)]),e("div",Ut,[e("div",Et,[a(x)(j.uid).length>1?(n(),l("button",{key:0,class:I(["px-4 py-2 rounded-full font-medium text-sm transition-all duration-200 flex items-center gap-2",a(h)(j.uid)?"bg-primary text-white shadow-md":"border border-gray-300 text-gray-700 hover:border-primary hover:text-primary"]),onClick:q=>C.$emit("toggle-all",j.uid)},[d(A,{name:"i-heroicons-users",class:"w-4 h-4"}),G(" "+u(a(w)(j.uid)),1)],10,Ot)):p("",!0),(n(!0),l(Z,null,se(a(b),(q,E)=>lt((n(),l("div",{key:q.name},[e("button",{class:I(["px-2 py-2 rounded-full font-medium text-sm transition-all duration-200 flex items-center gap-2",a(k)(j.uid,E)?"bg-primary text-white shadow-md":"border border-gray-300 text-gray-700 hover:border-primary hover:text-primary"]),onClick:O=>C.$emit("toggle-guest",{packageUid:j.uid,guestIndex:E})},[d(A,{name:"i-heroicons-user",class:"w-4 h-4"}),G(" "+u(q.name),1)],10,Rt)])),[[it,!a(m)(j.uid,E)]])),128))]),e("div",Ht,[d(A,{name:"i-heroicons-users",class:"w-4 h-4"}),e("span",Kt,u(a(D)(j.uid))+" / "+u(a(x)(j.uid).length),1)])])]))),128))])]),_:1})):p("",!0)}}}),Yt=Object.assign(Wt,{__name:"BookAvailablePackages"}),Jt={class:"font-bold shrink-0"},Zt=["innerHTML"],Qt=ne({__name:"NextSteps",props:{variant:{default:"primary"}},setup(s){const v=s,b=T(()=>{switch(v.variant){case"success":return{container:"bg-green-50 rounded-2xl p-6 border border-green-100",title:"text-lg font-semibold text-green-800 mb-3 flex items-center",titleIcon:"w-6 h-6 mr-2",list:"text-green-700 space-y-3 text-left text-sm"};case"warning":return{container:"bg-yellow-50 rounded-2xl p-6 border border-yellow-100",title:"text-lg font-semibold text-yellow-800 mb-3 flex items-center",titleIcon:"w-6 h-6 mr-2",list:"text-yellow-700 space-y-3 text-left text-sm"};default:return{container:"bg-primary-50 rounded-2xl p-6 border border-primary-100",title:"text-lg font-semibold text-primary mb-3 flex items-center",titleIcon:"w-6 h-6 mr-2",list:"text-primary space-y-3 text-left text-sm"}}}),g=["Cek <i>email</i> Anda untuk detail pembayaran lengkap","Simpan <i>invoice number</i> untuk referensi","Selesaikan pembayaran sesuai instruksi di <i>email</i>","Pembayaran akan dikonfirmasi otomatis"];return(k,m)=>(n(),l("div",{class:I(a(b).container)},[e("h3",{class:I(a(b).title)},[(n(),l("svg",{class:I(a(b).titleIcon),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...m[0]||(m[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])],2)),m[1]||(m[1]=G(" Langkah Selanjutnya ",-1))],2),e("ul",{class:I(a(b).list)},[(n(),l(Z,null,se(g,(x,D)=>e("li",{key:D,class:"flex items-start gap-3"},[e("span",Jt,u(D+1)+".",1),e("span",{innerHTML:x},null,8,Zt)])),64))],2)],2))}}),Xt=Object.assign(je(Qt,[["__scopeId","data-v-1e1d80ae"]]),{__name:"PaymentNextSteps"}),ea=["aria-labelledby","aria-describedby"],ta={key:0,class:"absolute inset-0 bg-white/80 backdrop-blur-sm z-10 flex items-center justify-center"},aa={key:1,class:"relative px-6 py-4 border-b border-gray-200"},sa={key:0},na={key:1,class:"flex items-start justify-between"},oa={key:0,id:"dialog-title",class:"text-lg font-semibold text-gray-900 leading-6"},la={key:1,id:"dialog-description",class:"mt-1 text-sm text-gray-600"},ia={class:"px-6 py-4 overflow-y-auto max-h-[60vh]"},ra={key:2,class:"px-6 py-4 border-t border-gray-200 bg-gray-50"},da={key:0},ca={key:1,class:"flex justify-end space-x-3"},ua=ne({__name:"Dialog",props:{modelValue:{type:Boolean},title:{default:""},description:{default:""},size:{default:"md"},closable:{type:Boolean,default:!0},overlayClose:{type:Boolean,default:!0},dialogClass:{default:""},showHeader:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},preventScroll:{type:Boolean,default:!0}},emits:["update:modelValue","close","open"],setup(s,{emit:v}){const b=s,g=v,k={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl",full:"max-w-full mx-4"},m=()=>{g("update:modelValue",!1),g("close")},x=h=>{b.overlayClose&&h.target===h.currentTarget&&m()},D=h=>{h.key==="Escape"&&b.closable&&m()};return fe(()=>b.modelValue,h=>{b.preventScroll&&(h?(document.body.style.overflow="hidden",g("open")):document.body.style.overflow="")}),ke(()=>{b.preventScroll&&(document.body.style.overflow="")}),ye(()=>{document.addEventListener("keydown",D)}),ke(()=>{document.removeEventListener("keydown",D)}),(h,w)=>{const C=be,r=gt;return n(),F(r,null,{default:_(()=>[(n(),F(rt,{to:"body"},[d(we,{"enter-active-class":"transition-opacity duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:_(()=>[s.modelValue?(n(),l("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-gray-500/50 backdrop-blur-sm",onClick:x},[d(we,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 transform scale-95 translate-y-4","enter-to-class":"opacity-100 transform scale-100 translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 transform scale-100 translate-y-0","leave-to-class":"opacity-0 transform scale-95 translate-y-4"},{default:_(()=>[s.modelValue?(n(),l("div",{key:0,class:I(["relative bg-white rounded-2xl shadow-2xl w-full max-h-[90vh] overflow-hidden",k[s.size],s.dialogClass]),role:"dialog","aria-modal":"true","aria-labelledby":s.title?"dialog-title":void 0,"aria-describedby":s.description?"dialog-description":void 0},[s.loading?(n(),l("div",ta,[...w[0]||(w[0]=[e("div",{class:"flex items-center space-x-2"},[e("div",{class:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"}),e("span",{class:"text-gray-600"},"Loading...")],-1)])])):p("",!0),s.showHeader&&(s.title||s.description||h.$slots.header||s.closable)?(n(),l("div",aa,[h.$slots.header?(n(),l("div",sa,[ae(h.$slots,"header",{close:m},void 0,!0)])):(n(),l("div",na,[e("div",null,[s.title?(n(),l("h3",oa,u(s.title),1)):p("",!0),s.description?(n(),l("p",la,u(s.description),1)):p("",!0)]),s.closable?(n(),l("button",{key:0,type:"button",class:"ml-4 text-gray-400 hover:text-gray-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 rounded-lg p-1","aria-label":"Close dialog",onClick:m},[...w[1]||(w[1]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):p("",!0)]))])):p("",!0),e("div",ia,[ae(h.$slots,"default",{close:m},void 0,!0)]),s.showFooter||h.$slots.footer?(n(),l("div",ra,[h.$slots.footer?(n(),l("div",da,[ae(h.$slots,"footer",{close:m},void 0,!0)])):(n(),l("div",ca,[d(C,{variant:"outline",onClick:m},{default:_(()=>[...w[2]||(w[2]=[G(" Cancel ",-1)])]),_:1}),d(C,{onClick:m},{default:_(()=>[...w[3]||(w[3]=[G(" OK ",-1)])]),_:1})]))])):p("",!0)],10,ea)):p("",!0)]),_:3})])):p("",!0)]),_:3})]))]),_:3})}}}),Ve=Object.assign(je(ua,[["__scopeId","data-v-0e3f7a9a"]]),{__name:"UtilDialog"}),ga={key:0,class:"fixed inset-0 bg-black/70 flex items-center justify-center z-50"},ma={class:"bg-white rounded-lg p-8 max-w-md w-full mx-4 shadow-2xl"},pa={key:0,class:"bg-gray-50 rounded-lg p-4 mb-6"},fa={class:"text-lg font-semibold text-gray-900 font-mono"},ya=["disabled"],ba={key:0},va={key:1,class:"flex items-center justify-center gap-2"},ha=ne({__name:"LoadingModal",props:{isOpen:{type:Boolean},invoiceId:{},redirectUrl:{}},emits:["redirect"],setup(s,{emit:v}){const b=s,g=v,k=M(!1),m=()=>{b.redirectUrl&&(k.value=!0,window.open(b.redirectUrl,"_blank"),g("redirect"))};return(x,D)=>s.isOpen?(n(),l("div",ga,[e("div",ma,[D[2]||(D[2]=_e('<div class="flex justify-center mb-6"><div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center"><svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div></div><h2 class="text-2xl font-bold text-center text-gray-900 mb-2"> Pembayaran Terdeteksi </h2><p class="text-center text-gray-600 mb-6"> Silakan selesaikan pembayaran di halaman yang baru dibuka untuk melanjutkan proses pemesanan Anda. </p>',3)),s.invoiceId?(n(),l("div",pa,[D[0]||(D[0]=e("p",{class:"text-sm text-gray-600 mb-1"}," Invoice ID ",-1)),e("p",fa,u(s.invoiceId),1)])):p("",!0),D[3]||(D[3]=_e('<div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6"><p class="text-sm text-blue-800"><strong>ℹ️ Penting:</strong> Jangan tutup halaman ini sampai Anda menyelesaikan verifikasi pembayaran di tab yang baru dibuka. </p></div><div class="flex justify-center items-center gap-2 mb-6"><div class="w-2 h-2 bg-primary rounded-full animate-pulse"></div><p class="text-sm text-gray-600"> Menunggu konfirmasi pembayaran... </p></div>',2)),e("button",{disabled:a(k),class:"w-full bg-primary hover:bg-primary-600 text-white font-semibold py-3 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",onClick:m},[a(k)?(n(),l("span",va,[...D[1]||(D[1]=[e("svg",{class:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),G(" Mengarahkan... ",-1)])])):(n(),l("span",ba,"Lanjutkan ke Pembayaran"))],8,ya)])])):p("",!0)}}),xa=Object.assign(ha,{__name:"PaymentLoadingModal"}),ka={class:"flex items-center gap-2"},wa={class:"space-y-4"},_a={class:"flex items-start justify-between mb-3 pb-3 border-b border-blue-200"},$a={class:"flex-1"},Pa={class:"font-semibold text-gray-900"},Sa={class:"text-sm text-gray-600"},Da={class:"text-right"},Ca={class:"text-lg font-semibold text-primary"},ja={class:"text-xs text-gray-500 mt-1"},Ia={class:"space-y-2 mb-3"},Aa={class:"flex flex-wrap gap-2"},Ba={class:"flex justify-between items-center pt-2 border-t border-blue-200"},za={class:"font-semibold text-primary"},Ta={class:"border-t-2 border-primary pt-4 mt-6"},Na={class:"flex justify-between items-center bg-primary/5 rounded-lg p-4 border border-primary/20"},Ma={class:"text-2xl font-bold text-primary"},Va=ne({__name:"RingkasanPaketTambahan",props:{newPackageSelections:{},newPackageSelectionsTotal:{}},setup(s){return(v,b)=>{const g=ie,k=ce;return s.newPackageSelections.length>0?(n(),F(k,{key:0},{header:_(()=>[e("div",ka,[d(g,{name:"i-heroicons-receipt",class:"w-5 h-5 text-primary"}),b[0]||(b[0]=e("h2",{class:"text-xl font-semibold"}," Ringkasan Paket Tambahan ",-1))])]),default:_(()=>[e("div",wa,[(n(!0),l(Z,null,se(s.newPackageSelections,m=>(n(),l("div",{key:m.pkg.uid,class:"border rounded-lg p-4 bg-white border-blue-200"},[e("div",_a,[e("div",$a,[e("h3",Pa,u(m.pkg.name),1),e("p",Sa,u(m.pkg.caption),1)]),e("div",Da,[e("p",Ca," Rp "+u(m.pkg.priceValue.toLocaleString("id-ID")),1),e("p",ja," × "+u(m.guests.length)+" orang ",1)])]),e("div",Ia,[b[1]||(b[1]=e("p",{class:"text-sm font-medium text-gray-700"}," Tamu yang Dipilih: ",-1)),e("div",Aa,[(n(!0),l(Z,null,se(m.guests,x=>(n(),l("div",{key:x.index,class:"px-3 py-1.5 rounded-full bg-white border border-blue-200 text-sm font-medium text-gray-700 flex items-center gap-2"},[d(g,{name:"i-heroicons-user",class:"w-4 h-4"}),G(" "+u(x.name),1)]))),128))])]),e("div",Ba,[b[2]||(b[2]=e("span",{class:"text-sm font-medium text-gray-700"},"Subtotal:",-1)),e("span",za,"Rp "+u(m.subtotal.toLocaleString("id-ID")),1)])]))),128)),e("div",Ta,[e("div",Na,[b[3]||(b[3]=e("span",{class:"text-lg font-bold text-gray-900"},"Total Paket Tambahan:",-1)),e("span",Ma,"Rp "+u(s.newPackageSelectionsTotal.toLocaleString("id-ID")),1)])])])]),_:1})):p("",!0)}}}),La=Object.assign(Va,{__name:"BookRingkasanPaketTambahan"}),Ga={key:0,class:"space-y-6"},Fa={key:0,class:"relative bg-linear-to-br from-primary/5 via-primary/10 to-transparent rounded-2xl p-6 mb-2 border border-primary/20"},qa={class:"relative"},Ua={class:"flex items-start justify-between gap-4 mb-3"},Ea={class:"flex-1"},Oa={class:"flex items-center gap-2 mb-2"},Ra={class:"text-3xl font-bold text-gray-900 leading-tight"},Ha={class:"text-gray-600 text-base leading-relaxed"},Ka={key:1,class:"flex items-center justify-center py-8"},Wa={key:2,class:"space-y-6"},Ya={key:0,class:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm hover:shadow-md transition-shadow duration-300"},Ja={class:"flex items-center gap-2 mb-4"},Za={class:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center"},Qa=["innerHTML"],Xa={key:1,class:"bg-linear-to-br from-gray-50 to-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300"},es={class:"p-6 pb-4"},ts={class:"flex items-center gap-3 mb-4"},as={class:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center"},ss={class:"font-bold text-2xl text-gray-900"},ns={key:0,class:"relative mx-6 mb-6 rounded-2xl overflow-hidden group"},os={class:"absolute bottom-4 left-4 z-20"},ls={key:1,class:"px-6 pb-6"},is={class:"bg-white rounded-xl p-5 border border-gray-100"},rs={class:"text-gray-700 leading-relaxed text-base"},ds={class:"bg-linear-to-br from-primary/10 via-primary/5 to-transparent rounded-2xl p-6 border border-primary/20 shadow-sm"},cs={class:"flex items-center justify-between gap-4 flex-wrap"},us={class:"flex items-center gap-3"},gs={class:"w-12 h-12 rounded-xl bg-primary/20 flex items-center justify-center"},ms={class:"font-bold text-2xl text-gray-900"},ps={key:0,class:"relative rounded-2xl overflow-hidden shadow-xl"},fs={class:"relative group"},ys={key:0,class:"absolute top-4 right-4 z-20"},bs={class:"absolute bottom-6 left-6 z-20"},vs={key:0,class:"grid grid-cols-4 gap-2 p-4 bg-gray-50"},hs=["onClick"],xs={key:0,class:"absolute top-1 right-1 w-6 h-6 bg-primary rounded-full flex items-center justify-center shadow-lg"},ks={class:"text-center"},ws={class:"text-white font-bold text-lg"},_s={key:1,class:"bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-300"},$s={class:"p-6"},Ps={class:"flex items-center gap-2 mb-5"},Ss={class:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center"},Ds=["innerHTML"],Cs={key:3,class:"text-center py-8 text-gray-500"},js=ne({__name:"PackageDetailModal",props:{modelValue:{type:Boolean},selectedPackage:{},packageDetails:{},loadingDetails:{type:Boolean},selectedBannerIndex:{}},emits:["update:modelValue","select-banner"],setup(s,{emit:v}){const b=C=>{if(!C)return"";{let r=pt.sanitize(C);return r=r.replace(/(http:\/\/103\.189\.234\.243\/img-asset\/assets\/)([a-zA-Z0-9-]+)(\.jpeg)/g,"$1512_$2.webp"),r}},{width:g}=Te(),k=T(()=>g.value||0),m=s,x=v,D=T({get:()=>m.modelValue,set:C=>x("update:modelValue",C)}),h=T(()=>k.value<=768?"full":"4xl"),w=C=>{x("select-banner",C)};return(C,r)=>{const A=ie,i=Ie,j=dt,q=Ve;return n(),F(q,{modelValue:a(D),"onUpdate:modelValue":r[1]||(r[1]=E=>de(D)?D.value=E:null),title:s.selectedPackage?.name||"Package Details",size:a(h),closable:!0,"show-footer":!1},{default:_(()=>[s.selectedPackage?(n(),l("div",Ga,[s.selectedPackage.referenceType!=="experience"&&s.selectedPackage.referenceType!=="visa"?(n(),l("div",Fa,[r[3]||(r[3]=e("div",{class:"absolute top-0 right-0 w-32 h-32 bg-primary/5 rounded-full -mr-16 -mt-16 blur-2xl"},null,-1)),e("div",qa,[e("div",Ua,[e("div",Ea,[e("div",Oa,[d(A,{name:"i-heroicons-sparkles",class:"w-5 h-5 text-primary"}),r[2]||(r[2]=e("span",{class:"text-xs font-semibold text-primary uppercase tracking-wider"},"Paket Tambahan",-1))]),e("h2",Ra,u(s.selectedPackage.name),1)]),d(i,{color:"primary",variant:"solid",size:"lg",class:"shrink-0 px-4 py-2 text-lg font-bold shadow-lg"},{default:_(()=>[G(u(s.selectedPackage.price),1)]),_:1})]),e("p",Ha,u(s.selectedPackage.description),1)])])):p("",!0),s.loadingDetails?(n(),l("div",Ka,[...r[4]||(r[4]=[e("div",{class:"animate-spin"},[e("svg",{class:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})])],-1),e("p",{class:"ml-3 text-gray-600"}," Loading details... ",-1)])])):s.packageDetails?(n(),l("div",Wa,[s.selectedPackage.referenceType==="visa"?(n(),l(Z,{key:0},[s.packageDetails.content?(n(),l("div",Ya,[e("div",Ja,[e("div",Za,[d(A,{name:"i-heroicons-document-text",class:"w-5 h-5 text-primary"})]),r[5]||(r[5]=e("h3",{class:"font-bold text-xl text-gray-900"}," Deskripsi Visa ",-1))]),e("div",{class:"text-gray-700 space-y-3 leading-relaxed prose prose-sm max-w-none",innerHTML:s.packageDetails.content},null,8,Qa)])):p("",!0),s.packageDetails.country?(n(),l("div",Xa,[e("div",es,[e("div",ts,[e("div",as,[d(A,{name:"i-heroicons-map-pin",class:"w-6 h-6 text-primary"})]),e("div",null,[r[6]||(r[6]=e("span",{class:"text-xs font-semibold text-primary uppercase tracking-wider block mb-1"},"Destinasi",-1)),e("h3",ss,u(s.packageDetails.country.name),1)])])]),s.packageDetails.country.bannerName?(n(),l("div",ns,[r[7]||(r[7]=e("div",{class:"absolute inset-0 bg-linear-to-t from-black/60 via-black/20 to-transparent z-10"},null,-1)),d(j,{provider:"peponi",src:`/country/${s.packageDetails.country.bannerName}.jpeg`,alt:s.packageDetails.country.name,class:"w-full h-72 object-cover group-hover:scale-105 transition-transform duration-700"},null,8,["src","alt"]),e("div",os,[d(i,{color:"neutral",variant:"solid",size:"lg",class:"shadow-xl"},{default:_(()=>[d(A,{name:"i-heroicons-globe-alt",class:"w-4 h-4 mr-1"}),G(" "+u(s.packageDetails.country.name),1)]),_:1})])])):p("",!0),s.packageDetails.country.summary?(n(),l("div",ls,[e("div",is,[e("p",rs,u(s.packageDetails.country.summary),1)])])):p("",!0)])):p("",!0)],64)):s.selectedPackage.referenceType==="experience"?(n(),l(Z,{key:1},[e("div",ds,[e("div",cs,[e("div",us,[e("div",gs,[d(A,{name:"i-heroicons-sparkles",class:"w-6 h-6 text-primary"})]),e("div",null,[r[8]||(r[8]=e("p",{class:"text-xs font-semibold text-primary uppercase tracking-wider"}," Pengalaman Unik ",-1)),e("h3",ms,u(s.packageDetails.name),1)])]),s.packageDetails.category?(n(),F(i,{key:0,color:"primary",variant:"soft",size:"lg",class:"px-4 py-2"},{default:_(()=>[d(A,{name:"i-heroicons-tag",class:"w-4 h-4 mr-1"}),G(" "+u(s.packageDetails.category),1)]),_:1})):p("",!0)])]),s.packageDetails.bannerList&&s.packageDetails.bannerList.length>0?(n(),l("div",ps,[e("div",fs,[r[10]||(r[10]=e("div",{class:"absolute inset-0 bg-linear-to-t from-black/70 via-black/20 to-transparent z-10"},null,-1)),d(j,{provider:"peponi",src:`/unique-experience/${s.packageDetails.bannerList[s.selectedBannerIndex]}.jpeg`,alt:s.packageDetails.name,class:"w-full h-96 object-cover"},null,8,["src","alt"]),s.packageDetails.bannerList.length>1?(n(),l("div",ys,[d(i,{color:"neutral",variant:"solid",size:"md",class:"shadow-lg backdrop-blur-sm"},{default:_(()=>[d(A,{name:"i-heroicons-photo",class:"w-4 h-4 mr-1"}),G(" "+u(s.packageDetails.bannerList.length)+" Foto ",1)]),_:1})])):p("",!0),e("div",bs,[d(i,{color:"neutral",variant:"solid",size:"lg",class:"shadow-2xl"},{default:_(()=>[d(A,{name:"i-heroicons-camera",class:"w-4 h-4 mr-1"}),r[9]||(r[9]=G(" Gallery Pengalaman ",-1))]),_:1})])]),s.packageDetails.bannerList.length>1?(n(),l("div",vs,[(n(!0),l(Z,null,se(s.packageDetails.bannerList.slice(0,4),(E,O)=>(n(),l("div",{key:O,class:I(["relative rounded-lg overflow-hidden group cursor-pointer aspect-video transition-all duration-300",s.selectedBannerIndex===Number(O)?"ring-4 ring-primary shadow-lg scale-105":"hover:ring-2 hover:ring-primary/50"]),onClick:X=>w(Number(O))},[d(j,{provider:"peponi",src:`/unique-experience/512_${E}.webp`,alt:`${s.packageDetails.name} - ${Number(O)+1}`,class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"},null,8,["src","alt"]),e("div",{class:I(["absolute inset-0 transition-colors duration-300",s.selectedBannerIndex===O?"bg-primary/10":"bg-black/0 group-hover:bg-black/20"])},null,2),s.selectedBannerIndex===O?(n(),l("div",xs,[d(A,{name:"i-heroicons-check",class:"w-4 h-4 text-white"})])):p("",!0)],10,hs))),128)),s.packageDetails.bannerList.length>4?(n(),l("div",{key:0,class:I(["relative rounded-lg overflow-hidden flex items-center justify-center aspect-video cursor-pointer group transition-all duration-300",s.selectedBannerIndex>=4?"bg-primary ring-4 ring-primary shadow-lg scale-105":"bg-gray-900 hover:ring-2 hover:ring-primary/50"]),onClick:r[0]||(r[0]=E=>w(4))},[e("div",ks,[e("p",ws," +"+u(s.packageDetails.bannerList.length-4),1),r[11]||(r[11]=e("p",{class:"text-white text-xs"}," Lainnya ",-1))])],2)):p("",!0)])):p("",!0)])):p("",!0),s.packageDetails.summary?(n(),l("div",_s,[e("div",$s,[e("div",Ps,[e("div",Ss,[d(A,{name:"i-heroicons-document-text",class:"w-5 h-5 text-primary"})]),r[12]||(r[12]=e("h3",{class:"font-bold text-xl text-gray-900"}," Detail Pengalaman ",-1))]),e("div",{class:"text-gray-700 leading-relaxed prose prose-sm max-w-none prose-headings:text-gray-900 prose-headings:font-bold prose-h2:text-lg prose-h2:mt-6 prose-h2:mb-3 prose-h3:text-base prose-p:my-3 prose-ul:my-3 prose-li:my-1 prose-img:rounded-xl prose-img:shadow-lg prose-img:my-6",innerHTML:b(s.packageDetails.summary)},null,8,Ds)])])):p("",!0)],64)):p("",!0)])):(n(),l("div",Cs," No additional details available for this package "))])):p("",!0)]),_:1},8,["modelValue","title","size"])}}}),Is=Object.assign(js,{__name:"BookPackageDetailModal"}),As=s=>{const v=s.replace(/\s+/g,"").replace(/[^0-9]/gi,""),b=v.match(/\d{4,16}/g),g=b&&b[0]||"",k=[];for(let m=0;m<g.length;m+=4)k.push(g.substring(m,m+4));return k.length?k.join(" "):v},Bs=s=>{const v=s.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return v.length>=2?`${v.substring(0,2)}/${v.substring(2,4)}`:v},zs={class:"space-y-6"},Ts={class:"grid grid-cols-2 gap-4"},Ns=["disabled"],Ms=["disabled"],Vs={key:0,class:"space-y-4 pt-2"},Ls={key:0,class:"flex justify-center py-4"},Gs={key:1,class:"grid grid-cols-2 md:grid-cols-3 gap-3"},Fs=["onClick"],qs=["src","alt"],Us={class:"text-sm font-medium text-center"},Es={key:1,class:"space-y-4 pt-2"},Os={class:"bg-amber-50 border border-amber-200 rounded-lg p-4"},Rs={class:"flex items-start gap-2"},Hs={class:"space-y-4"},Ks={class:"grid grid-cols-2 gap-4"},Ws={key:2,class:"pt-4 border-t"},Ys=ne({__name:"PaymentMethodSection",props:{newPackageSelectionsTotal:{},newPackageSelections:{},bookingData:{},packageGuestSelections:{},lockedSelections:{}},emits:["payment-success","payment-error"],async setup(s,{emit:v}){let b,g;const k=Ae(),m=Be().public.apiBase,x=s,D=v,h=M(null),w=M(null),C=M(!1),r=M({cardName:"",cardNumber:"",expiryDate:"",cvv:""});fe(()=>r.value.cardNumber,y=>{r.value.cardNumber=As(y)}),fe(()=>r.value.expiryDate,y=>{r.value.expiryDate=Bs(y)});const{data:A,pending:i}=([b,g]=ze(()=>Ne(`${m}/Booking/payment-list`,"$UxEKnHli6B")),b=await b,g(),b),j=T(()=>{const y=[];if(A.value?.data){const c=A.value.data.filter(N=>N.is_Activated).map(N=>({id:N.code.toLowerCase(),name:N.name,type:"bank",code:N.code,fee:N.fee,icon:`/assets/bank/${N.code}.png`}));y.push(...c)}return y}),q=T(()=>{const y=r.value;return!(!y.cardName.trim()||!y.cardNumber.trim()||!y.expiryDate.trim()||!y.cvv.trim()||y.cardNumber.replace(/\s/g,"").length!==16||y.expiryDate.length!==5||y.cvv.length<3||y.cvv.length>4)}),E=y=>{h.value=y,y==="virtual_account"?r.value={cardName:"",cardNumber:"",expiryDate:"",cvv:""}:y==="credit_card"&&(w.value=null)},O=y=>{w.value=y},X=(y,c)=>{const N=y.slice(-4),H=c.substring(0,3).toUpperCase();return`${N}${H}`},re=async()=>{if(!x.bookingData){k.add({title:"Error",description:"Booking data tidak ditemukan",color:"error"});return}if(h.value==="virtual_account"){if(!w.value){k.add({title:"Error",description:"Silakan pilih bank terlebih dahulu",color:"error"});return}await L()}else if(h.value==="credit_card"){if(!q.value){k.add({title:"Error",description:"Silakan lengkapi data kartu kredit",color:"error"});return}await R()}},R=async()=>{C.value=!0;try{if(!x.bookingData)throw new Error("Missing booking data");const y=r.value.cardNumber.replace(/\s/g,""),[c,N]=r.value.expiryDate.split("/"),H=x.bookingData.guest.map(U=>({gender:U.gender||"",name:U.name||"",whatsappNumber:U.whatsapp_number||U.whatsappNumber||""})),z=[];x.packageGuestSelections.forEach((U,Q)=>{const ee=x.lockedSelections.get(Q)||new Set,J=[...U].filter(B=>!ee.has(B));if(J.length>0){const B=J.map(te=>{const oe=x.bookingData.guest[te];return X(oe?.whatsapp_number||oe?.whatsappNumber||"",oe?.name||"")});z.push({uid:Q,quantity:B.length,guest:B})}});const K={bookNumber:x.bookingData.noPesanan,extraPackage:z,customers:H,cardHolderName:r.value.cardName,cardNumber:y,cardMonth:parseInt(c||"0"),cardYear:parseInt(N||"0"),cardCvn:parseInt(r.value.cvv),email:x.bookingData.guest[0]?.email||"",phoneNumber:x.bookingData.guest[0]?.whatsapp_number||x.bookingData.guest[0]?.whatsappNumber||""};console.log("CC Payment Payload:",K);const P=await $fetch("http://103.189.234.243/api-be/Booking/create-additional-cc",{method:"POST",body:K});console.log("CC Payment Response:",P),P&&(k.add({title:"Success",description:"Pembayaran berhasil diproses",color:"success"}),D("payment-success",P))}catch(y){console.error("CC Payment Error:",y);const c=y instanceof Error?y.message:"Gagal memproses pembayaran";k.add({title:"Payment Error",description:c,color:"error"}),D("payment-error",c)}finally{C.value=!1}},L=async()=>{C.value=!0;try{if(!x.bookingData||!w.value)throw new Error("Missing required data");const y=x.bookingData.guest.map(z=>({gender:z.gender||"",name:z.name||"",whatsappNumber:z.whatsapp_number||z.whatsappNumber||""})),c=[];x.packageGuestSelections.forEach((z,K)=>{const P=x.lockedSelections.get(K)||new Set,U=[...z].filter(Q=>!P.has(Q));if(U.length>0){const Q=U.map(ee=>{const J=x.bookingData.guest[ee];return X(J?.whatsapp_number||J?.whatsappNumber||"",J?.name||"")});c.push({uid:K,quantity:Q.length,guest:Q})}});const N={bookNumber:x.bookingData.noPesanan,extraPackage:c,customers:y,bankCode:w.value.code};console.log("VA Payment Payload:",N);const H=await $fetch("http://103.189.234.243/api-be/Booking/create-additional-va",{method:"POST",body:N});console.log("VA Payment Response:",H),H&&(k.add({title:"Success",description:"Pembayaran berhasil diproses",color:"success"}),D("payment-success",H))}catch(y){console.error("VA Payment Error:",y);const c=y instanceof Error?y.message:"Gagal memproses pembayaran";k.add({title:"Payment Error",description:c,color:"error"}),D("payment-error",c)}finally{C.value=!1}};return(y,c)=>{const N=ie,H=Me,z=be,K=ce;return n(),F(K,null,{header:_(()=>[...c[8]||(c[8]=[e("h2",{class:"text-xl font-semibold"}," Pilih Metode Pembayaran ",-1)])]),default:_(()=>[e("div",zs,[e("div",Ts,[e("button",{disabled:s.newPackageSelectionsTotal===0,class:I(["p-6 rounded-lg border-2 transition-all duration-200 flex flex-col items-center justify-center gap-3 min-h-[140px]",s.newPackageSelectionsTotal===0?"border-gray-100 bg-gray-50 cursor-not-allowed opacity-50":a(h)==="virtual_account"?"border-primary bg-primary/5 cursor-pointer":"border-gray-200 bg-white hover:border-gray-300 cursor-pointer"]),onClick:c[0]||(c[0]=P=>E("virtual_account"))},[d(N,{name:"i-heroicons-check-circle",class:I(["w-8 h-8 transition-colors",s.newPackageSelectionsTotal===0?"text-gray-300":a(h)==="virtual_account"?"text-primary":"text-gray-400"])},null,8,["class"]),e("span",{class:I(["font-medium text-center",s.newPackageSelectionsTotal===0?"text-gray-400":a(h)==="virtual_account"?"text-primary":"text-gray-600"])}," Virtual Account ",2)],10,Ns),e("button",{disabled:s.newPackageSelectionsTotal===0,class:I(["p-6 rounded-lg border-2 transition-all duration-200 flex flex-col items-center justify-center gap-3 min-h-[140px]",s.newPackageSelectionsTotal===0?"border-gray-100 bg-gray-50 cursor-not-allowed opacity-50":a(h)==="credit_card"?"border-primary bg-primary/5 cursor-pointer":"border-gray-200 bg-white hover:border-gray-300 cursor-pointer"]),onClick:c[1]||(c[1]=P=>E("credit_card"))},[d(N,{name:"i-heroicons-credit-card",class:I(["w-8 h-8 transition-colors",s.newPackageSelectionsTotal===0?"text-gray-300":a(h)==="credit_card"?"text-primary":"text-gray-400"])},null,8,["class"]),e("span",{class:I(["font-medium text-center",s.newPackageSelectionsTotal===0?"text-gray-400":a(h)==="credit_card"?"text-primary":"text-gray-600"])}," Kartu Kredit ",2)],10,Ms)]),a(h)==="virtual_account"?(n(),l("div",Vs,[c[10]||(c[10]=e("p",{class:"text-sm text-gray-600 font-medium"}," Pilih bank untuk transfer virtual account: ",-1)),a(i)?(n(),l("div",Ls,[...c[9]||(c[9]=[e("svg",{class:"w-6 h-6 text-primary animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])])):(n(),l("div",Gs,[(n(!0),l(Z,null,se(a(j),P=>(n(),l("button",{key:P.id,class:I(["p-4 rounded-lg border-2 transition-all duration-200 flex flex-col items-center gap-2",a(w)?.id===P.id?"border-primary bg-primary/5":"border-gray-200 hover:border-primary"]),onClick:U=>O(P)},[e("img",{src:P.icon,alt:P.name,class:"h-8 object-contain",onError:c[2]||(c[2]=U=>U.target.src="/placeholder-bank.png")},null,40,qs),e("span",Us,u(P.name),1)],10,Fs))),128))]))])):p("",!0),a(h)==="credit_card"?(n(),l("div",Es,[e("div",Os,[e("div",Rs,[d(N,{name:"i-heroicons-information-circle",class:"w-5 h-5 text-amber-600 mt-0.5 shrink-0"}),c[11]||(c[11]=e("p",{class:"text-sm text-amber-800"}," Pembayaran kartu kredit Anda akan diproses secara aman melalui gateway pembayaran terpercaya. ",-1))])]),e("div",Hs,[e("div",null,[c[12]||(c[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nama Pemegang Kartu",-1)),d(H,{modelValue:a(r).cardName,"onUpdate:modelValue":c[3]||(c[3]=P=>a(r).cardName=P),placeholder:"John Doe",class:"w-full",onBlur:c[4]||(c[4]=P=>a(r).cardName=a(r).cardName.toUpperCase())},null,8,["modelValue"])]),e("div",null,[c[13]||(c[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nomor Kartu",-1)),d(H,{modelValue:a(r).cardNumber,"onUpdate:modelValue":c[5]||(c[5]=P=>a(r).cardNumber=P),placeholder:"1234 5678 9012 3456",maxlength:"19",class:"w-full"},null,8,["modelValue"]),c[14]||(c[14]=e("p",{class:"text-xs text-gray-500 mt-1"}," Masukkan 16 digit nomor kartu ",-1))]),e("div",Ks,[e("div",null,[c[15]||(c[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Berlaku Hingga",-1)),d(H,{modelValue:a(r).expiryDate,"onUpdate:modelValue":c[6]||(c[6]=P=>a(r).expiryDate=P),placeholder:"MM/YY",maxlength:"5",class:"w-full"},null,8,["modelValue"]),c[16]||(c[16]=e("p",{class:"text-xs text-gray-500 mt-1"}," Format: MM/YY ",-1))]),e("div",null,[c[17]||(c[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"CVV",-1)),d(H,{modelValue:a(r).cvv,"onUpdate:modelValue":c[7]||(c[7]=P=>a(r).cvv=P),placeholder:"123",type:"password",maxlength:"4",class:"w-full"},null,8,["modelValue"]),c[18]||(c[18]=e("p",{class:"text-xs text-gray-500 mt-1"}," 3-4 digit belakang kartu ",-1))])])])])):p("",!0),a(h)?(n(),l("div",Ws,[d(z,{loading:a(C),disabled:s.newPackageSelectionsTotal===0||!a(w)&&a(h)==="virtual_account"||a(h)==="credit_card"&&!a(q),block:"",size:"lg",class:I([s.newPackageSelectionsTotal===0||!a(w)&&a(h)==="virtual_account"||a(h)==="credit_card"&&!a(q)?"bg-gray-300! text-white cursor-not-allowed opacity-70":"bg-primary hover:bg-primary/90"]),onClick:re},{default:_(()=>[...c[19]||(c[19]=[G(" Lanjut Pembayaran ",-1)])]),_:1},8,["loading","disabled","class"])])):p("",!0)])]),_:1})}}}),Js=Object.assign(Ys,{__name:"BookPaymentMethodSection"}),Zs={class:"min-h-screen bg-gray-50 py-8"},Qs={key:0,class:"container mx-auto px-4 max-w-4xl"},Xs={class:"max-w-md mx-auto"},en={class:"flex gap-3"},tn={class:"flex gap-3 items-start"},an={class:"text-sm text-red-700"},sn={key:1,class:"space-y-6"},nn={class:"grid grid-cols-2 gap-6"},on={class:"space-y-2"},ln={class:"flex justify-between"},rn={class:"font-medium"},dn={class:"flex justify-between"},cn={class:"font-medium"},un={class:"flex justify-between"},gn={class:"font-medium"},mn={class:"flex justify-between"},pn={class:"font-medium"},fn={class:"space-y-2"},yn={key:0,class:"flex justify-between"},bn={class:"font-medium"},vn={key:1,class:"flex justify-between"},hn={class:"font-medium"},xn={key:2,class:"flex justify-between"},kn={class:"font-medium"},wn={class:"flex justify-between"},_n={class:"font-medium"},$n={class:"space-y-2"},Pn={class:"flex justify-between"},Sn={class:"font-semibold text-lg"},Dn={key:0,class:"flex justify-between"},Cn={key:1,class:"px-4"},jn={key:0,class:"space-y-4"},In={class:"space-y-4"},An={class:"space-y-1 text-sm"},Bn={class:"flex justify-between"},zn={class:"font-medium"},Tn={class:"flex justify-between"},Nn={class:"font-medium text-xs"},Mn={class:"flex justify-between"},Vn={class:"font-medium text-xs"},Ln={class:"space-y-1 text-sm"},Gn={key:0,class:"flex justify-between"},Fn={class:"font-medium"},qn={class:"flex justify-between"},Un={class:"font-medium"},En={class:"space-y-1 text-sm"},On={class:"flex justify-between"},Rn={class:"font-semibold"},Hn={key:0,class:"flex justify-between"},Kn={class:"flex justify-center"},Wn={key:0,class:"space-y-6"},Yn={class:"flex items-center justify-center text-green-700"},Jn={class:"text-sm font-medium"},Zn={class:"space-y-4"},Qn={class:"bg-green-50 rounded-xl p-4 border border-green-200"},Xn={class:"text-xl font-mono font-bold text-green-700"},eo={class:"bg-gray-50 rounded-xl p-4"},to={class:"space-y-3"},ao={class:"flex justify-between"},so={class:"font-semibold"},no={class:"flex justify-between items-center"},oo={class:"flex items-center gap-2"},lo={class:"font-mono font-semibold"},io={class:"flex justify-between"},ro={class:"font-semibold"},co={class:"flex justify-between"},uo={class:"font-bold text-lg"},go={class:"flex justify-between"},mo={class:"font-semibold"},xo=ne({__name:"detail",async setup(s){let v,b;const g=ct(),k=Ae(),m=Be().public.apiBase,{width:x}=Te(),D=T(()=>x.value||0),h=M(!1),w=M(""),C=M(!1),r=M(!1),A=M(""),i=M(null),j=M([]),q=M(!1),E=M(null),O=M(null),X=M(!1),re=M(0),R=M(new Map),L=M(new Map),y=M(null),c=M(!1),N=M(""),H=M(""),z=async o=>{if(E.value=o,q.value=!0,re.value=0,o.referenceType&&o.referenceId){X.value=!0;try{let t="";if(o.referenceType==="visa"?t=`/Visa/${o.referenceId}`:o.referenceType==="experience"&&(t=`/UniqueExperience/${o.referenceId}`),t){const f=await $fetch(m+t);O.value=f?.data||f}}catch(t){console.error("Failed to fetch package details:",t),O.value=null}finally{X.value=!1}}},K=o=>{re.value=o};ye(()=>{const o=g.fullPath.split("?")[1];o&&o.trim()!==""&&(w.value=o.trim(),setTimeout(()=>{P()},300))});const P=async()=>{if(w.value.trim()){C.value=!0,r.value=!0;try{const o=await $fetch(`${m}/Booking/additional-book-detail/${w.value}`,{method:"GET"});if(!o?.data){i.value=null,A.value=w.value;return}i.value=o.data,A.value="",R.value=new Map,L.value=new Map,j.value=(o.data.additionalPackages||[]).map(t=>({uid:t.uid,name:t.name,caption:t.caption,price:`${t.price.toLocaleString("id-ID")}`,priceValue:t.price,quantity:0,referenceType:t.referenceType,referenceId:t.referenceId})),o.data.guest?.forEach((t,f)=>{Array.isArray(t.extra_package)&&t.extra_package.forEach($=>{ee($,f,!0),console.log(`Default active: Guest ${f+1} → ${$}`)})})}catch(o){console.error("Error fetching booking:",o),i.value=null,A.value=w.value}finally{C.value=!1}}},{data:U,pending:Q}=([v,b]=ze(()=>Ne(`${m}/Booking/payment-list`,"$xuVHTWuTG2")),v=await v,b(),v);T(()=>{const o=[];if(U.value?.data){const t=U.value.data.filter(f=>f.is_Activated).map(f=>({id:f.code.toLowerCase(),name:f.name,type:"bank",code:f.code,fee:f.fee,icon:`/assets/bank/${f.code}.png`}));o.push(...t)}return o});const ee=(o,t,f=!1)=>{const $=new Map(R.value);if($.has(o)||$.set(o,new Set),$.get(o).add(t),R.value=$,f){const S=new Map(L.value);S.has(o)||S.set(o,new Set),S.get(o).add(t),L.value=S}},J=(o,t)=>{if(L.value.get(o)?.has(t))return;const f=new Map(R.value),$=f.get(o);$&&($.delete(t),$.size===0&&f.delete(o)),R.value=f},B=(o,t)=>{oe(o,t)?J(o,t):ee(o,t)},te=o=>{if(!i.value?.guest)return;const t=i.value.guest.length,f=L.value.get(o)||new Set,S=Array.from({length:t},(W,ge)=>ge).filter(W=>!f.has(W)),le=new Map(R.value).get(o);f.size,le&&le.size===t?S.forEach(W=>J(o,W)):S.forEach(W=>ee(o,W))},oe=(o,t)=>R.value.get(o)?.has(t)||!1,Le=(o,t)=>L.value.get(o)?.has(t)||!1,Ge=o=>{if(!i.value?.guest)return"Select All";const t=L.value.get(o)||new Set,f=i.value.guest.filter((S,V)=>!t.has(V));return(R.value.get(o)?.size||0)===f.length&&f.length>0?"Deselect All":"Select All"},Fe=o=>{const t=L.value.get(o)||new Set,f=Array.from({length:i.value?.guest?.length||0},(S,V)=>V).filter(S=>!t.has(S)),$=R.value.get(o)||new Set;return f.length>0&&f.every(S=>$.has(S))},qe=o=>{if(!i.value?.guest)return[];const t=L.value.get(o)||new Set;return i.value.guest.filter((f,$)=>!t.has($))},Ue=o=>{const t=L.value.get(o)||new Set;return[...R.value.get(o)||new Set].filter($=>!t.has($)).length},Ee=T(()=>{if(!i.value?.guest)return[];const o=new Map;return i.value.guest.forEach(t=>{Array.isArray(t.extra_package)&&t.extra_package.forEach(f=>{o.has(f)||o.set(f,[]),o.get(f).push(t)})}),Array.from(o.entries()).map(([t,f])=>({pkg:j.value.find(S=>S.uid===t),guests:f})).filter(t=>t.pkg)}),Oe=T(()=>{if(!i.value?.guest)return[];const o=i.value.guest.length;return j.value.filter(t=>(L.value.get(t.uid)||new Set).size<o)}),pe=T(()=>{const o=[];return R.value.forEach((t,f)=>{const $=L.value.get(f)||new Set,S=[...t].filter(V=>!$.has(V));if(S.length>0&&i.value?.guest){const V=j.value.find(le=>le.uid===f);if(V){const le=S.map(W=>({name:i.value?.guest?.[W]?.name||"",index:W}));o.push({pkg:V,guests:le,subtotal:V.priceValue*S.length})}}}),o}),ve=T(()=>pe.value.reduce((o,t)=>o+t.subtotal,0)),he=T(()=>{if(!i.value?.jadwalKeberangkatan)return"";try{const[o,t]=i.value.jadwalKeberangkatan.split(" - ");if(!o||!t)return i.value.jadwalKeberangkatan;const f=ue(o),$=ue(t);if(!f||!$)return i.value.jadwalKeberangkatan;const S={day:"numeric",month:"long",year:"numeric"};return`${f.toLocaleDateString("id-ID",S)} - ${$.toLocaleDateString("id-ID",S)}`}catch{return i.value?.jadwalKeberangkatan||""}}),Re=T(()=>{if(!i.value?.jadwalKeberangkatan)return"N/A";try{const[o,t]=i.value.jadwalKeberangkatan.split(" - ");if(!o||!t)return"N/A";const f=ue(o),$=ue(t);if(!f||!$)return"N/A";const S=Math.abs($.getTime()-f.getTime()),V=Math.ceil(S/(1e3*60*60*24));return`${V+1} Hari ${V} Malam`}catch{return"N/A"}}),ue=o=>{try{const t=o.trim().split("/");if(t.length!==3)return null;const f=parseInt(t[0]||"0"),$=parseInt(t[1]||"0"),S=parseInt(t[2]||"0");if(isNaN(f)||isNaN($)||isNaN(S))return null;const V=new Date(S,f-1,$);return isNaN(V.getTime())?null:V}catch{return null}},He=o=>{y.value=o,h.value=!0,k.add({title:"Success",description:"Pembayaran berhasil diproses",color:"success"})},Ke=o=>{k.add({title:"Payment Error",description:o,color:"error"})};return(o,t)=>{const f=Me,$=be,S=$e("UFormGroup"),V=ce,le=ie,W=$e("UDivider"),ge=Ie,We=Bt,Ye=Yt,Je=Xt,Ze=Ve,Qe=xa;return n(),l("div",null,[e("div",Zs,[a(D)>720?(n(),l("div",Qs,[t[23]||(t[23]=e("div",{class:"text-center mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"}," Cek Trip Saya "),e("p",{class:"text-gray-600"}," Masukkan kode booking untuk melihat detail perjalanan ")],-1)),d(V,{class:"mb-8"},{default:_(()=>[e("div",Xs,[d(S,{label:"Kode Booking",name:"bookingCode",required:""},{default:_(()=>[e("div",en,[d(f,{modelValue:a(w),"onUpdate:modelValue":t[0]||(t[0]=Y=>de(w)?w.value=Y:null),placeholder:"No. Pesanan (cth: 000000)",size:"lg",class:"flex-1",onKeyup:Pe(P,["enter"])},null,8,["modelValue"]),d($,{size:"lg",disabled:!a(w).trim(),loading:a(C),onClick:P},{default:_(()=>[...t[6]||(t[6]=[G(" Cari ",-1)])]),_:1},8,["disabled","loading"])])]),_:1})])]),_:1}),a(r)&&!a(C)&&a(A)&&!a(i)?(n(),F(V,{key:0,class:"border-red-200 bg-red-50"},{default:_(()=>[e("div",tn,[d(le,{name:"i-heroicons-x-circle",class:"w-6 h-6 text-red-600 shrink-0 mt-0.5"}),e("div",null,[t[7]||(t[7]=e("h3",{class:"font-semibold text-red-900"}," Booking Tidak Ditemukan ",-1)),e("p",an,' Kode booking "'+u(a(A))+'" tidak terdaftar dalam sistem. Silakan periksa kembali kode booking Anda. ',1)])])]),_:1})):p("",!0),a(i)?(n(),l("div",sn,[d(V,null,{header:_(()=>[...t[8]||(t[8]=[e("h2",{class:"text-xl font-semibold"}," Detail Booking ",-1)])]),default:_(()=>[e("div",nn,[e("div",null,[t[13]||(t[13]=e("h3",{class:"font-semibold mb-3"}," Informasi Booking ",-1)),e("dl",on,[e("div",ln,[t[9]||(t[9]=e("dt",{class:"text-gray-600"}," Kode Booking: ",-1)),e("dd",rn,u(a(i).noPesanan),1)]),e("div",dn,[t[10]||(t[10]=e("dt",{class:"text-gray-600"}," Nama Trip: ",-1)),e("dd",cn,u(a(i).tripName),1)]),e("div",un,[t[11]||(t[11]=e("dt",{class:"text-gray-600"}," Tanggal Berangkat: ",-1)),e("dd",gn,u(a(he)),1)]),e("div",mn,[t[12]||(t[12]=e("dt",{class:"text-gray-600"}," Durasi: ",-1)),e("dd",pn,u(a(Re)),1)])])]),e("div",null,[t[18]||(t[18]=e("h3",{class:"font-semibold mb-3"}," Informasi Pelanggan ",-1)),e("dl",fn,[a(i).guest?.[0]?(n(),l("div",yn,[t[14]||(t[14]=e("dt",{class:"text-gray-600"}," Nama: ",-1)),e("dd",bn,u(a(i).guest[0].gender)+" "+u(a(i).guest[0].name),1)])):p("",!0),a(i).guest?.[0]?.email?(n(),l("div",vn,[t[15]||(t[15]=e("dt",{class:"text-gray-600"}," Email: ",-1)),e("dd",hn,u(a(i).guest[0].email),1)])):p("",!0),a(i).guest?.[0]?.whatsappNumber?(n(),l("div",xn,[t[16]||(t[16]=e("dt",{class:"text-gray-600"}," WhatsApp: ",-1)),e("dd",kn,u(a(i).guest[0].whatsappNumber),1)])):p("",!0),e("div",wn,[t[17]||(t[17]=e("dt",{class:"text-gray-600"}," Jumlah Peserta: ",-1)),e("dd",_n,u(a(i).guest?.length||0)+" orang ",1)])])])]),d(W,{class:"my-4"}),e("div",null,[t[22]||(t[22]=e("h3",{class:"font-semibold mb-3"}," Informasi Pembayaran ",-1)),e("dl",$n,[e("div",Pn,[t[19]||(t[19]=e("dt",{class:"text-gray-600"}," Total Pembayaran: ",-1)),e("dd",Sn," Rp "+u(a(i).fixTotalPrice?.toLocaleString("id-ID")||0),1)]),a(i).useDiscount?(n(),l("div",Dn,[t[21]||(t[21]=e("dt",{class:"text-gray-600"}," Diskon: ",-1)),e("dd",null,[d(ge,{variant:"solid"},{default:_(()=>[...t[20]||(t[20]=[G(" Aktif ",-1)])]),_:1})])])):p("",!0)])])]),_:1}),a(i)?(n(),F(We,{key:0,"packages-already-added":a(Ee),"total-guests":a(i).guest.length,onOpenDetail:z},null,8,["packages-already-added","total-guests"])):p("",!0),a(i)?(n(),F(Ye,{key:1,"available-packages":a(Oe),guests:a(i).guest,"is-guest-selected-for-package":oe,"is-guest-locked-for-package":Le,"get-available-guests-for-package":qe,"get-new-selections-for-package":Ue,"get-all-guests-selected":Fe,"get-select-all-button-text":Ge,onToggleGuest:t[1]||(t[1]=({packageUid:Y,guestIndex:Xe})=>B(Y,Xe)),onToggleAll:te,onOpenDetail:z},null,8,["available-packages","guests"])):p("",!0),a(i)?(n(),F(La,{key:2,"new-package-selections":a(pe),"new-package-selections-total":a(ve)},null,8,["new-package-selections","new-package-selections-total"])):p("",!0),a(i)?(n(),F(Js,{key:3,"new-package-selections-total":a(ve),"new-package-selections":a(pe),"booking-data":a(i),"package-guest-selections":a(R),"locked-selections":a(L),onPaymentSuccess:He,onPaymentError:Ke},null,8,["new-package-selections-total","new-package-selections","booking-data","package-guest-selections","locked-selections"])):p("",!0)])):p("",!0)])):(n(),l("div",Cn,[t[37]||(t[37]=e("div",{class:"text-center mb-6"},[e("h1",{class:"text-2xl font-bold text-gray-900 mb-1"}," Cek Trip Saya "),e("p",{class:"text-sm text-gray-600"}," Masukkan kode booking Anda ")],-1)),d(V,{class:"mb-6"},{default:_(()=>[d(S,{label:"Kode Booking",name:"bookingCode",required:"",class:"w-full"},{default:_(()=>[d(f,{modelValue:a(w),"onUpdate:modelValue":t[2]||(t[2]=Y=>de(w)?w.value=Y:null),placeholder:"No. Pesanan (cth: 000000)",size:"md",class:"mb-3 w-full",onKeyup:Pe(P,["enter"])},null,8,["modelValue"]),d($,{block:"",disabled:!a(w).trim(),loading:a(C),onClick:P},{default:_(()=>[...t[24]||(t[24]=[G(" Cari Booking ",-1)])]),_:1},8,["disabled","loading"])]),_:1})]),_:1}),a(i)?(n(),l("div",jn,[d(V,null,{header:_(()=>[...t[25]||(t[25]=[e("h3",{class:"font-semibold"}," Detail Booking ",-1)])]),default:_(()=>[e("div",In,[e("div",null,[t[29]||(t[29]=e("h4",{class:"text-sm font-semibold text-gray-700 mb-2"}," Info Booking ",-1)),e("dl",An,[e("div",Bn,[t[26]||(t[26]=e("dt",{class:"text-gray-600"}," Kode: ",-1)),e("dd",zn,u(a(i).noPesanan),1)]),e("div",Tn,[t[27]||(t[27]=e("dt",{class:"text-gray-600"}," Trip: ",-1)),e("dd",Nn,u(a(i).tripName),1)]),e("div",Mn,[t[28]||(t[28]=e("dt",{class:"text-gray-600"}," Berangkat: ",-1)),e("dd",Vn,u(a(he)),1)])])]),d(W),e("div",null,[t[32]||(t[32]=e("h4",{class:"text-sm font-semibold text-gray-700 mb-2"}," Info Pelanggan ",-1)),e("dl",Ln,[a(i).guest?.[0]?(n(),l("div",Gn,[t[30]||(t[30]=e("dt",{class:"text-gray-600"}," Nama: ",-1)),e("dd",Fn,u(a(i).guest[0].gender)+" "+u(a(i).guest[0].name),1)])):p("",!0),e("div",qn,[t[31]||(t[31]=e("dt",{class:"text-gray-600"}," Peserta: ",-1)),e("dd",Un,u(a(i).guest?.length||0)+" orang ",1)])])]),d(W),e("div",null,[t[36]||(t[36]=e("h4",{class:"text-sm font-semibold text-gray-700 mb-2"}," Pembayaran ",-1)),e("dl",En,[e("div",On,[t[33]||(t[33]=e("dt",{class:"text-gray-600"}," Total: ",-1)),e("dd",Rn," Rp "+u(a(i).fixTotalPrice?.toLocaleString("id-ID")||0),1)]),a(i).useDiscount?(n(),l("div",Hn,[t[35]||(t[35]=e("dt",{class:"text-gray-600"}," Diskon: ",-1)),e("dd",null,[d(ge,{size:"xs",variant:"solid"},{default:_(()=>[...t[34]||(t[34]=[G(" Aktif ",-1)])]),_:1})])])):p("",!0)])])])]),_:1})])):p("",!0)]))]),d(Ze,{modelValue:a(h),"onUpdate:modelValue":t[4]||(t[4]=Y=>de(h)?h.value=Y:null),title:"🎉 Booking Berhasil!",description:"Pembayaran Anda telah berhasil dibuat. Silakan selesaikan pembayaran sesuai instruksi.",size:"lg",closable:!0,"show-footer":!0},{footer:_(({close:Y})=>[e("div",Kn,[d($,{to:"/",size:"lg",class:"px-8",onClick:Y},{default:_(()=>[...t[38]||(t[38]=[G(" Tutup ",-1)])]),_:1},8,["onClick"])])]),default:_(()=>[a(y)?(n(),l("div",Wn,[t[48]||(t[48]=e("div",{class:"text-center"},[e("div",{class:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-10 h-10 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])]),e("p",{class:"text-gray-600 leading-relaxed"}," Bersiaplah untuk petualangan yang menakjubkan! Detail pembayaran telah dikirim ke email Anda. ")],-1)),o.showCopyFeedback?(n(),l("div",{key:0,class:I(["bg-green-100 border border-green-200 rounded-lg p-3 text-center transition-all duration-300",o.showCopyFeedback?"opacity-100 scale-100":"opacity-0 scale-95"])},[e("div",Yn,[t[39]||(t[39]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),e("span",Jn,u(o.copyFeedback),1)])],2)):p("",!0),e("div",Zn,[e("div",Qn,[t[40]||(t[40]=e("h4",{class:"text-sm font-semibold text-green-800 mb-2"}," Invoice Number ",-1)),e("p",Xn,u(a(y).data.invoice),1)]),e("div",eo,[t[47]||(t[47]=e("h4",{class:"text-sm font-semibold text-gray-700 mb-3"}," Detail Transfer Bank ",-1)),e("div",to,[e("div",ao,[t[41]||(t[41]=e("span",{class:"text-gray-600"},"Bank",-1)),e("span",so,u(a(y).data.va.bankCode),1)]),e("div",no,[t[43]||(t[43]=e("span",{class:"text-gray-600"},"Virtual Account",-1)),e("div",oo,[e("span",lo,u(a(y).data.va.va),1),e("button",{class:"text-gray-500 hover:text-primary transition-colors p-1 rounded",title:"Copy Virtual Account",onClick:t[3]||(t[3]=(...Y)=>o.copyVirtualAccount&&o.copyVirtualAccount(...Y))},[...t[42]||(t[42]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)])])])]),e("div",io,[t[44]||(t[44]=e("span",{class:"text-gray-600"},"Nama Penerima",-1)),e("span",ro,u(a(y).data.va.custName),1)]),e("div",co,[t[45]||(t[45]=e("span",{class:"text-gray-600"},"Jumlah Transfer",-1)),e("span",uo,u(a(mt)(a(y).data.va.amount)),1)]),e("div",go,[t[46]||(t[46]=e("span",{class:"text-gray-600"},"Berlaku Hingga",-1)),e("span",mo,u(new Date(a(y).data.va.expired).toLocaleString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})),1)])])]),d(Je)])])):p("",!0)]),_:1},8,["modelValue"]),d(Is,{modelValue:a(q),"onUpdate:modelValue":t[5]||(t[5]=Y=>de(q)?q.value=Y:null),"selected-package":a(E),"package-details":a(O),"loading-details":a(X),"selected-banner-index":a(re),onSelectBanner:K},null,8,["modelValue","selected-package","package-details","loading-details","selected-banner-index"]),d(Qe,{"is-open":a(c),"invoice-id":a(N),"redirect-url":a(H)},null,8,["is-open","invoice-id","redirect-url"])])}}});export{xo as default};
