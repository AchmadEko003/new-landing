import{_ as Y}from"./DG9mT_Ne.js";import{_ as Z}from"./DQ1gpRM5.js";import{_ as X}from"./CE55aFze.js";import{_ as tt}from"./B0fpACTP.js";import{_ as et}from"./DR7yyQ3Y.js";import{_ as st}from"./Bhc3DN3G.js";import{d as ot,Y as nt,B as it,c as g,n as y,a0 as at,x as lt,a as r,u as e,b as t,t as c,e as a,m as rt,F as $,r as C,k as S,w as _,V as ct,Z as u,o as l,G as dt,q as mt,P as ut,l as pt,C as gt,T as _t,f as ft}from"./B_qnYf6p.js";import{u as ht}from"./CgfcLKIj.js";import{u as vt}from"./Bvg_jZNf.js";import{b as bt,u as yt}from"./CHinQrNr.js";import"./CsMUUQx9.js";import"./HRjpPm7y.js";const xt={key:0,class:"flex items-center justify-center h-[50dvh] md:h-[75dvh]"},kt={key:1,class:"flex items-center justify-center h-[50dvh] md:h-[75dvh]"},wt={class:"text-red-500"},Tt={key:2,class:"flex items-center justify-center h-[50dvh] md:h-[75dvh]"},At={key:3},It={class:"py-8 px-3 md:px-28 flex flex-col gap-8"},$t={class:"flex flex-col gap-1"},Ct={class:"text-3xl font-bold"},St={class:"text-xl text-primary font-semibold"},jt={class:"text-gray-800"},Dt={class:"text-lg font-medium"},Bt={class:"text-lg font-medium"},Ut={id:"summary-trip-section"},zt={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-6"},Mt={key:0,class:"flex flex-col"},Rt={key:1,class:"space-y-4"},Pt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Et={class:"flex items-center justify-center"},Ft={class:"mb-6"},Lt={class:"grid grid-cols-3 gap-5"},qt=["onClick"],Ht={id:"suitability-section"},Nt={class:"mb-6 md:grid md:grid-cols-2"},Vt={id:"itinerary-section"},Gt={class:"mb-6"},Qt={key:0,class:"mb-4"},Jt=["src","alt"],Wt=["innerHTML"],Kt={key:1},Ot={id:"included-section",class:"mb-6"},Yt={key:0},Zt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Xt={class:"font-semibold text-gray-900"},te={class:"text-gray-600 text-sm"},ee={key:1,class:"text-gray-500"},se={id:"accommodation-section",class:"mb-6"},oe={key:0},ne={key:1,class:"text-gray-500"},ie={id:"reviews-section",class:"mb-6"},ae={id:"faqs-section",class:"mb-6"},le=["innerHTML"],re={key:1},ce={id:"schedule-section"},de={class:"mb-6"},me={id:"more-info-section"},ue={class:"mb-6 md:max-w-5xl"},pe=ot({__name:"[tripId]",setup(ge){const j=nt(),D=it(),f=g(()=>j.params.tripId),{width:B}=ht(),{sanitizeHtml:p}=vt(),U=[{id:"summary-trip-section",title:"Ringkasan"},{id:"suitability-section",title:"Apakah sesuai untukmu?"},{id:"itinerary-section",title:"Itinerary"},{id:"included-section",title:"Termasuk & Tidak Termasuk"},{id:"accommodation-section",title:"Akomodasi"},{id:"reviews-section",title:"Ulasan"},{id:"faqs-section",title:"FAQs"},{id:"schedule-section",title:"Jadwal Trip"}],{data:z,pending:M,error:h}=bt(`/api/trips/${f.value}`,"$5uhvQih_2W"),{data:x,pending:R,error:P}=yt(`/api/trips/review/${f.value}`,"$wv8FBoAHa8"),o=g(()=>z.value?.data),E=g(()=>Array.isArray(x.value?.data)?x.value?.data:[]),k=g(()=>{if(!o.value?.accomodation)return[];if(console.log("asd",o.value.accomodation),Array.isArray(o.value.accomodation))return o.value.accomodation.map(n=>({image:n.thumbnail?.[0]?`/accommodation/${n.thumbnail[0]}.jpeg`:n.image||"/placeholder-accommodation.jpg",name:n.name||"Unnamed Accommodation",location:n.location||"",rating:n.rating||0,reviewCount:n.reviewCount||0,description:n.content||"",images:Array.isArray(n.thumbnail)?n.thumbnail:[],basic:n.basic}));if(typeof o.value.accomodation=="object"){const n=o.value.accomodation;return[{image:n.thumbnail?.[0]?`/accommodation/${n.thumbnail[0]}.jpeg`:n.image||"/placeholder-accommodation.jpg",name:n.name||"Unnamed Accommodation",location:n.location||"",rating:n.rating||0,reviewCount:n.reviewCount||0,description:n.content||"",facilities:Array.isArray(n.facilities)?n.facilities:[],images:Array.isArray(n.thumbnail)?n.thumbnail:[],basic:n.basic}]}return[]}),F=g(()=>p(o.value?.suitability||"")),L=y(),w=y(0),T=y(!0);at(()=>{o.value?.price&&(w.value=o.value.price)}),lt(()=>{const n=document.getElementById("schedule-section");n&&new IntersectionObserver(v=>{v.forEach(b=>{T.value=!b.isIntersecting})},{threshold:.1}).observe(n)});const q=()=>{const n=document.getElementById("schedule-section");n&&n.scrollIntoView({behavior:"smooth",block:"start"})},H=async n=>{const s=n.name.toLowerCase().replace(/\s+/g,"-");await D.push(`/pengalaman-unik/${s}_${n.uid}`)};return(n,s)=>{const v=u("CarouselTripBanner"),b=Y,d=u("CardTripSummary"),N=Z,V=X,A=tt,G=et,I=st,Q=pt,J=u("CarouselAccommodation"),W=u("GridRating"),K=u("TripSchedule"),O=u("UtilStickyMobileInfo");return e(M)?(l(),r("div",xt,[...s[0]||(s[0]=[t("span",{class:"text-gray-500"},"Loading trip details...",-1)])])):e(h)?(l(),r("div",kt,[t("span",wt,c(e(h).message||e(h)),1)])):e(o)?(l(),r("div",At,[a(v,{images:e(o).bannerImages,"trip-name":e(o).name},null,8,["images","trip-name"]),a(b,{sections:U}),t("div",It,[t("div",$t,[t("h1",Ct,c(e(o).name),1),t("div",St,[s[2]||(s[2]=rt(" Destinasi ",-1)),t("span",jt,c(e(o).country),1)]),t("p",Dt,c(e(o).headline),1),t("p",Bt,c(e(o).summary),1)]),t("section",Ut,[s[9]||(s[9]=t("h1",{class:"text-3xl font-bold mb-6"}," Ringkasan Trip ",-1)),t("div",zt,[e(B)<=768?(l(),r("div",Mt,[t("table",null,[t("tbody",null,[t("tr",null,[s[3]||(s[3]=t("td",{class:"font-semibold w-36"}," Durasi ",-1)),t("td",null,c(e(o).days)+" hari",1)]),t("tr",null,[s[4]||(s[4]=t("td",{class:"font-semibold w-36"}," Destinasi ",-1)),t("td",null,c(e(o).destination),1)]),t("tr",null,[s[5]||(s[5]=t("td",{class:"font-semibold w-36"}," Transportasi ",-1)),t("td",null,c(e(o).transportation),1)]),t("tr",null,[s[6]||(s[6]=t("td",{class:"font-semibold w-36"}," Meeting Point ",-1)),t("td",null,c(e(o).meetingPoint),1)]),t("tr",null,[s[7]||(s[7]=t("td",{class:"font-semibold w-36"}," Ukuran Group ",-1)),t("td",null,c(e(o).groupSize)+" orang",1)]),t("tr",null,[s[8]||(s[8]=t("td",{class:"font-semibold w-36"}," Tim ",-1)),t("td",null,c(e(o).team),1)])])])])):(l(),r("div",Rt,[t("div",Pt,[a(d,{label:"Durasi",value:`${e(o).days} hari`,icon:"calendar"},null,8,["value"]),a(d,{label:"Destinasi",value:e(o).destination,icon:"destinasi"},null,8,["value"]),a(d,{label:"Transportasi",value:e(o).transportation,icon:"transportation"},null,8,["value"]),a(d,{label:"Meeting Point",value:e(o).meetingPoint,icon:"meeting-point"},null,8,["value"]),a(d,{label:"Ukuran Group",value:`${e(o).groupSize} orang`,icon:"group"},null,8,["value"]),a(d,{label:"Tim",value:e(o).team,icon:"team"},null,8,["value"])]),a(d,{label:"Dokumentasi",value:e(o).documentation,icon:"dokumentasi"},null,8,["value"])])),t("div",Et,[a(N,{"img-url":`/trip/${e(o).mapImage}.jpeg`,alt:"Trip Map",class:"rounded-xl w-full h-auto max-h-96 object-cover"},null,8,["img-url"])])])]),t("section",null,[t("div",Ft,[s[10]||(s[10]=t("h2",{class:"text-2xl font-semibold mb-2"}," Pengalaman utama ",-1)),t("div",Lt,[(l(!0),r($,null,C(e(o).uniqueExperience.slice(0,9),(i,m)=>(l(),r("div",{key:m,class:"cursor-pointer",onClick:_e=>H(i)},[a(V,dt({ref_for:!0},i,{title:i.name,"aspect-auto":"","img-url":`/unique-experience/512_${i.uid}.webp`}),null,16,["title","img-url"])],8,qt))),128))])])]),t("section",Ht,[t("div",Nt,[s[11]||(s[11]=t("h2",{class:"text-2xl font-semibold mb-2"}," Apakah trip ini sesuai untukmu? ",-1)),a(A,{content:e(F)},null,8,["content"])])]),t("section",Vt,[t("div",Gt,[s[12]||(s[12]=t("h2",{class:"text-2xl font-semibold mb-2"}," Itinerary ",-1)),e(o).itineraries&&e(o).itineraries.length?(l(),S(I,{key:0,items:e(o).itineraries.map((i,m)=>({label:`Day ${m+1} ${i.title}`,content:e(p)(i.content||""),banners:i.banners||[]})),ui:{trigger:"cursor-pointer",label:"text-xl font-bold",trailingIcon:"text-primary h-8 w-8"}},{content:_(({item:i})=>[i.banners&&i.banners.length>0?(l(),r("div",Qt,[a(G,{arrows:"",items:i.banners,prev:{icon:"i-heroicons-chevron-left-20-solid",size:"lg",color:"neutral",class:"hover:opacity-100 opacity-70"},next:{icon:"i-heroicons-chevron-right-20-solid",size:"lg",color:"neutral",class:"hover:opacity-100 opacity-70"},ui:{item:"basis-full md:basis-1/2",container:"rounded-lg",prev:"absolute left-3 sm:left-5 top-1/2 -translate-y-1/2 z-20 rounded-full bg-white/80 hover:bg-white shadow-lg",next:"absolute right-3 sm:right-5 top-1/2 -translate-y-1/2 z-20 rounded-full bg-white/80 hover:bg-white shadow-lg"},class:"rounded-lg overflow-hidden"},{default:_(({item:m})=>[t("img",{src:`http://103.189.234.243/img-asset/trip/${m}.jpeg`,alt:`Banner for Day ${i.label}`,class:"w-full h-96 object-cover",draggable:"false"},null,8,Jt)]),_:2},1032,["items"])])):mt("",!0),t("div",{class:"prose prose-sm max-w-none text-gray-700",innerHTML:e(p)(i.content||"")},null,8,Wt)]),_:1},8,["items"])):(l(),r("div",Kt," Tidak ada itinerary. "))])]),t("section",Ot,[s[13]||(s[13]=t("h2",{class:"text-2xl font-semibold mb-6"}," Termasuk & Tidak Termasuk ",-1)),e(o).included&&e(o).included.length?(l(),r("div",Yt,[t("div",Zt,[(l(!0),r($,null,C(e(o).included,i=>(l(),r("div",{key:i.order,class:"flex items-start gap-3"},[a(Q,{name:i.isIncluded?"i-heroicons-check-circle":"i-heroicons-x-circle",class:ut([i.isIncluded?"text-green-500":"text-red-500","text-lg mt-0.5"])},null,8,["name","class"]),t("div",null,[t("h4",Xt,c(i.title),1),t("p",te,c(i.content),1)])]))),128))])])):(l(),r("div",ee," Tidak ada informasi termasuk/tidak termasuk. "))]),t("section",se,[s[14]||(s[14]=t("h2",{class:"text-2xl font-semibold mb-6"}," Akomodasi ",-1)),e(k).length?(l(),r("div",oe,[a(J,{"accommodation-list":e(k)},null,8,["accommodation-list"])])):(l(),r("div",ne," Tidak ada informasi akomodasi. "))]),t("section",ie,[s[15]||(s[15]=t("h2",{class:"text-2xl font-semibold mb-6"}," Ulasan Trip ",-1)),a(W,{ratings:e(E),loading:e(R),error:e(P)},null,8,["ratings","loading","error"])]),t("section",ae,[s[16]||(s[16]=t("h2",{class:"text-2xl font-semibold mb-6"}," FAQs ",-1)),e(o).faq&&e(o).faq.length?(l(),S(I,{key:0,items:e(o).faq.map((i,m)=>({label:i.title||`FAQ ${m+1}`,content:e(p)(i.content||"")})),ui:{trigger:"cursor-pointer",label:"text-xl font-bold",trailingIcon:"text-primary h-8 w-8"}},{content:_(({item:i})=>[t("div",{class:"prose prose-sm max-w-none text-gray-700",innerHTML:e(p)(i.content||"")},null,8,le)]),_:1},8,["items"])):(l(),r("div",re," Tidak ada FAQ. "))]),t("section",ce,[t("div",de,[s[17]||(s[17]=t("h2",{class:"text-2xl font-semibold mb-2"}," Jadwal Ketersediaan ",-1)),a(K,{ref_key:"tripScheduleRef",ref:L,"trip-uid":e(f)},null,8,["trip-uid"])])]),t("section",me,[t("div",ue,[s[18]||(s[18]=t("h2",{class:"text-2xl font-semibold mb-2"}," Informasi Tambahan ",-1)),a(A,{content:e(o).moreInformation||""},null,8,["content"])])])]),a(ct,{"enter-active-class":"transition-transform duration-300 ease-out","enter-from-class":"translate-y-full","enter-to-class":"translate-y-0","leave-active-class":"transition-transform duration-300 ease-in","leave-from-class":"translate-y-0","leave-to-class":"translate-y-full"},{default:_(()=>[gt(a(O,{price:e(w),onButtonClick:q},null,8,["price"]),[[_t,e(T)]])]),_:1})])):(l(),r("div",Tt,[...s[1]||(s[1]=[t("span",{class:"text-gray-500"},"Trip not found.",-1)])]))}}}),Ce=ft(pe,[["__scopeId","data-v-be287c3e"]]);export{Ce as default};
